package chaojiying_sdk

import (
	"testing"
)

func TestChaoJiYing_UserInfo(t *testing.T) {
	cjy := NewChaoJiYing()
	userInfo, err := cjy.UserInfo()
	if err != nil {
		t.Fatal(err)
	}
	t.Logf("tifen: %d, lock_tifen: %d", userInfo.TiFen, userInfo.TiFenLock)
	return
}

func TestChaoJiYing_IdentifyPic(t *testing.T) {
	cjy := NewChaoJiYing()
	picStr := "vvfe"
	fileBase64 := "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"
	identifyPic, err := cjy.IdentifyPic(1902, 4, fileBase64)
	if err != nil {
		t.Fatal(err)
	}
	if identifyPic.PicStr != picStr {
		_, _ = cjy.ReportError(identifyPic.PicId)
		t.Fatalf("%s not %s", identifyPic.PicStr, picStr)
	}
	t.Logf("pic_id: %s, pic_str: %s, md5: %s", identifyPic.PicId, identifyPic.PicStr, identifyPic.Md5)
	return
}

func TestChaoJiYing_ReportError(t *testing.T) {
	picId := "8126618035333100138"
	cjy := NewChaoJiYing()
	if _, err := cjy.ReportError(picId); err != nil {
		t.Fatal(err)
	}
	return
}
